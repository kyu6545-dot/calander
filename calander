<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>2026 ë¯¸êµ­ì£¼ì‹íŒ€ ì—…ë¬´ ìš´ì˜ ìº˜ë¦°ë”</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      --bg: #f8fafc;
      --card: #ffffff;
      --text: #0f172a;
      --muted: #64748b;
      --border: #e2e8f0;
      --weekend: #f1f5f9;
      --layer-daily: #0ea5e9;
      --layer-weekly: #22c55e;
      --layer-monthly: #f97316;
      --layer-research: #8b5cf6;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: "Noto Sans KR", sans-serif;
      background: var(--bg);
      color: var(--text);
    }

    header {
      position: sticky;
      top: 0;
      z-index: 10;
      background: var(--card);
      border-bottom: 1px solid var(--border);
      padding: 20px 40px;
    }

    .header-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      flex-wrap: wrap;
    }

    .title-block h1 {
      margin: 0;
      font-size: 1.5rem;
      font-weight: 700;
    }

    .title-block p {
      margin: 6px 0 0;
      color: var(--muted);
      font-size: 0.95rem;
    }

    .selector {
      display: flex;
      align-items: center;
      gap: 12px;
      background: var(--bg);
      padding: 10px 14px;
      border-radius: 10px;
      border: 1px solid var(--border);
    }

    select {
      border: none;
      background: transparent;
      font-size: 1rem;
      font-weight: 600;
      color: var(--text);
      outline: none;
    }

    main {
      padding: 28px 40px 60px;
      max-width: 1400px;
      margin: 0 auto;
    }

    .legend {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 12px;
      margin-bottom: 20px;
    }

    .legend-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 12px 14px;
      display: flex;
      gap: 10px;
      align-items: center;
    }

    .muted {
      color: var(--muted);
      font-size: 0.85rem;
    }

    .legend-color {
      width: 14px;
      height: 14px;
      border-radius: 4px;
    }

    .calendar {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 18px;
      padding: 18px;
      box-shadow: 0 12px 30px rgba(15, 23, 42, 0.06);
    }

    .calendar-header {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      text-align: center;
      font-weight: 600;
      color: var(--muted);
      padding-bottom: 12px;
      border-bottom: 1px solid var(--border);
    }

    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 12px;
      margin-top: 12px;
    }

    .day-cell {
      border: 1px solid var(--border);
      border-radius: 14px;
      min-height: 150px;
      padding: 10px;
      display: flex;
      flex-direction: column;
      gap: 6px;
      background: #fff;
    }

    .day-cell.weekend {
      background: var(--weekend);
      opacity: 0.55;
    }

    .day-cell.empty {
      background: transparent;
      border: 1px dashed var(--border);
      opacity: 0.35;
    }

    .day-number {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-weight: 600;
    }

    .day-number span {
      font-size: 0.95rem;
    }

    .week-label {
      font-size: 0.7rem;
      color: var(--muted);
      background: var(--bg);
      border-radius: 999px;
      padding: 2px 8px;
    }

    .task-group {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .group-title {
      font-size: 0.7rem;
      font-weight: 600;
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing: 0.04em;
    }

    .task-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 4px;
    }

    .task-tag {
      font-size: 0.72rem;
      font-weight: 600;
      padding: 4px 6px;
      border-radius: 999px;
      display: inline-flex;
      align-items: center;
      gap: 4px;
      color: #0f172a;
      background: #e2e8f0;
    }

    .layer-daily {
      background: rgba(14, 165, 233, 0.15);
      border: 1px solid rgba(14, 165, 233, 0.4);
      color: #0369a1;
    }

    .layer-weekly {
      background: rgba(34, 197, 94, 0.15);
      border: 1px solid rgba(34, 197, 94, 0.4);
      color: #15803d;
    }

    .layer-monthly {
      background: rgba(249, 115, 22, 0.18);
      border: 1px solid rgba(249, 115, 22, 0.45);
      color: #c2410c;
    }

    .layer-research {
      background: rgba(139, 92, 246, 0.15);
      border: 1px solid rgba(139, 92, 246, 0.4);
      color: #6d28d9;
    }

    .layer-pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-weight: 700;
      font-size: 0.85rem;
    }

    @media (max-width: 900px) {
      header {
        padding: 16px 20px;
      }

      main {
        padding: 20px 20px 40px;
      }

      .calendar-grid {
        grid-template-columns: repeat(2, 1fr);
      }

      .calendar-header {
        display: none;
      }

      .day-cell {
        min-height: 180px;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="header-row">
      <div class="title-block">
        <h1>2026 ë¯¸êµ­ì£¼ì‹íŒ€ ì—…ë¬´ ìš´ì˜ ìº˜ë¦°ë”</h1>
        <p>ë§¤ì¼ ê°ì‹œ â†’ ë§¤ì£¼ êµ¬ì¡°í™” â†’ ë§¤ì›” ì˜ì‚¬ê²°ì • â†’ 3~4ì£¼ì°¨ ë¦¬ì„œì¹˜ë¡œ ë’·ë°›ì¹¨ë˜ëŠ” ìš´ì˜ êµ¬ì¡°</p>
      </div>
      <div class="selector">
        <label for="monthSelector">ì›” ì„ íƒ</label>
        <select id="monthSelector" aria-label="ì›” ì„ íƒ">
          <option value="1">1ì›”</option>
          <option value="2">2ì›”</option>
          <option value="3">3ì›”</option>
          <option value="4">4ì›”</option>
          <option value="5">5ì›”</option>
          <option value="6">6ì›”</option>
          <option value="7">7ì›”</option>
          <option value="8">8ì›”</option>
          <option value="9">9ì›”</option>
          <option value="10">10ì›”</option>
          <option value="11">11ì›”</option>
          <option value="12">12ì›”</option>
        </select>
      </div>
    </div>
  </header>
  <main>
    <section class="legend" aria-label="ì—…ë¬´ ë ˆì´ì–´">
      <div class="legend-card">
        <span class="legend-color" style="background: var(--layer-daily)"></span>
        <div>
          <div class="layer-pill">Daily Core</div>
          <div class="muted">ë§¤ì¼ ë°˜ë³µë˜ëŠ” ì‹œì¥ ê°ì‹œ ë£¨í‹´</div>
        </div>
      </div>
      <div class="legend-card">
        <span class="legend-color" style="background: var(--layer-weekly)"></span>
        <div>
          <div class="layer-pill">Weekly Cycle</div>
          <div class="muted">ë§¤ì£¼ ê¸ˆìš”ì¼ ë¸Œë¦¬í•‘ìœ¼ë¡œ êµ¬ì¡°í™”</div>
        </div>
      </div>
      <div class="legend-card">
        <span class="legend-color" style="background: var(--layer-monthly)"></span>
        <div>
          <div class="layer-pill">Monthly Decision</div>
          <div class="muted">ì›”ë§ ì˜ì‚¬ê²°ì • ë° í›„ì† í”¼ë“œë°±</div>
        </div>
      </div>
      <div class="legend-card">
        <span class="legend-color" style="background: var(--layer-research)"></span>
        <div>
          <div class="layer-pill">Research Block</div>
          <div class="muted">3~4ì£¼ì°¨ ì§‘ì¤‘ ë¦¬ì„œì¹˜</div>
        </div>
      </div>
    </section>

    <section class="calendar">
      <div class="calendar-header">
        <div>MON</div>
        <div>TUE</div>
        <div>WED</div>
        <div>THU</div>
        <div>FRI</div>
        <div>SAT</div>
        <div>SUN</div>
      </div>
      <div id="calendarGrid" class="calendar-grid" aria-live="polite"></div>
    </section>
  </main>

  <script>
    const YEAR = 2026;
    const monthSelector = document.getElementById("monthSelector");
    const grid = document.getElementById("calendarGrid");

    const dailyTasks = [
      {
        label: "[Daily] Trading",
        icon: "ğŸ“ˆ",
        layer: "daily",
        group: "US Branch",
      },
      {
        label: "[Daily] Fidelity",
        icon: "ğŸ§¾",
        layer: "daily",
        group: "US Branch",
      },
      {
        label: "[Daily] CS Review",
        icon: "ğŸ¦",
        layer: "daily",
        group: "US Branch",
      },
      {
        label: "[Daily] US Checklist",
        icon: "âœ…",
        layer: "daily",
        group: "Korea HQ",
      },
    ];

    const weeklyTasks = [
      {
        label: "[Weekly] Impact",
        icon: "ğŸ“Œ",
        layer: "weekly",
        group: "Korea HQ",
      },
      {
        label: "[Weekly] Brief",
        icon: "ğŸ§­",
        layer: "weekly",
        group: "Korea HQ",
      },
    ];

    const monthlyTasks = [
      {
        label: "[Monthly] Proposal",
        icon: "ğŸ“",
        layer: "monthly",
        group: "Korea HQ",
      },
      {
        label: "[Monthly] Strategy",
        icon: "ğŸ“Š",
        layer: "monthly",
        group: "Korea HQ",
      },
      {
        label: "[Monthly] Feedback",
        icon: "ğŸ”„",
        layer: "monthly",
        group: "Korea HQ",
      },
    ];

    const researchTasks = [
      {
        label: "[Research] Sector",
        icon: "ğŸ§ª",
        layer: "research",
        group: "US Branch",
      },
      {
        label: "[Research] Discovery",
        icon: "ğŸ”",
        layer: "research",
        group: "US Branch",
      },
    ];

    const toMondayIndex = (day) => (day + 6) % 7;

    const getWeekOfMonth = (month, day) => {
      const firstDay = new Date(YEAR, month - 1, 1);
      const leading = toMondayIndex(firstDay.getDay());
      return Math.ceil((leading + day) / 7);
    };

    const isWeekday = (date) => {
      const day = date.getDay();
      return day >= 1 && day <= 5;
    };

    const getLastWeekday = (month) => {
      const lastDate = new Date(YEAR, month, 0).getDate();
      for (let day = lastDate; day >= 1; day -= 1) {
        const date = new Date(YEAR, month - 1, day);
        if (isWeekday(date)) {
          return day;
        }
      }
      return lastDate;
    };

    const getPreviousWeekday = (month, day) => {
      for (let d = day - 1; d >= 1; d -= 1) {
        const date = new Date(YEAR, month - 1, d);
        if (isWeekday(date)) {
          return d;
        }
      }
      return null;
    };

    const getNextWeekday = (month, day) => {
      const lastDate = new Date(YEAR, month, 0).getDate();
      for (let d = day + 1; d <= lastDate; d += 1) {
        const date = new Date(YEAR, month - 1, d);
        if (isWeekday(date)) {
          return d;
        }
      }
      return null;
    };

    const buildTasksForDate = (month, day) => {
      const date = new Date(YEAR, month - 1, day);
      const dayIndex = date.getDay();
      const weekOfMonth = getWeekOfMonth(month, day);
      const tasks = [];

      if (isWeekday(date)) {
        tasks.push(...dailyTasks);
      }

      if (dayIndex === 4) {
        tasks.push(weeklyTasks[1]);
      }
      if (dayIndex === 3) {
        tasks.push(weeklyTasks[0]);
      }

      const lastWeekday = getLastWeekday(month);
      const proposalDay = getPreviousWeekday(month, lastWeekday);
      const feedbackDay = getNextWeekday(month, lastWeekday);

      if (day === proposalDay) {
        tasks.push(monthlyTasks[0]);
      }
      if (day === lastWeekday) {
        tasks.push(monthlyTasks[1]);
      }
      if (feedbackDay && day === feedbackDay) {
        tasks.push(monthlyTasks[2]);
      }

      if (weekOfMonth === 3 || weekOfMonth === 4) {
        if (isWeekday(date)) {
          tasks.push(...researchTasks);
        }
      }

      return tasks;
    };

    const renderMonth = (month) => {
      grid.innerHTML = "";
      const firstDay = new Date(YEAR, month - 1, 1);
      const totalDays = new Date(YEAR, month, 0).getDate();
      const leadingBlanks = toMondayIndex(firstDay.getDay());
      const totalCells = Math.ceil((leadingBlanks + totalDays) / 7) * 7;

      for (let i = 0; i < totalCells; i += 1) {
        if (i < leadingBlanks || i >= leadingBlanks + totalDays) {
          const emptyCell = document.createElement("div");
          emptyCell.className = "day-cell empty";
          grid.appendChild(emptyCell);
          continue;
        }

        const day = i - leadingBlanks + 1;
        const date = new Date(YEAR, month - 1, day);
        const mondayIndex = toMondayIndex(date.getDay());
        const isWeekend = mondayIndex >= 5;

        const cell = document.createElement("div");
        cell.className = `day-cell${isWeekend ? " weekend" : ""}`;

        const header = document.createElement("div");
        header.className = "day-number";

        const weekLabel = document.createElement("span");
        weekLabel.className = "week-label";
        weekLabel.textContent = `${getWeekOfMonth(month, day)}ì£¼ì°¨`;

        const dayText = document.createElement("span");
        dayText.textContent = `${day}`;

        header.appendChild(dayText);
        header.appendChild(weekLabel);

        const tasks = buildTasksForDate(month, day);
        const groups = tasks.reduce((acc, task) => {
          acc[task.group] = acc[task.group] || [];
          acc[task.group].push(task);
          return acc;
        }, {});

        cell.appendChild(header);

        Object.keys(groups).forEach((groupName) => {
          const group = document.createElement("div");
          group.className = "task-group";

          const title = document.createElement("div");
          title.className = "group-title";
          title.textContent = groupName;

          const tagWrap = document.createElement("div");
          tagWrap.className = "task-tags";

          groups[groupName].forEach((task) => {
            const tag = document.createElement("span");
            tag.className = `task-tag layer-${task.layer}`;
            tag.textContent = `${task.icon} ${task.label}`;
            tagWrap.appendChild(tag);
          });

          group.appendChild(title);
          group.appendChild(tagWrap);
          cell.appendChild(group);
        });

        grid.appendChild(cell);
      }
    };

    monthSelector.addEventListener("change", (event) => {
      renderMonth(Number(event.target.value));
    });

    const now = new Date();
    const defaultMonth = now.getFullYear() === YEAR ? now.getMonth() + 1 : 1;
    monthSelector.value = String(defaultMonth);
    renderMonth(defaultMonth);
  </script>
</body>
</html>
